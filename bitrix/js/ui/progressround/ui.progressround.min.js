(function(){"use strict";BX.namespace("BX.UI.ProgressRound");BX.UI.ProgressRound=function(t){this.options=BX.type.isPlainObject(t)?t:{};this.bar=null;this.id=t.id;this.container=null;this.status=null;this.statusPercent="0%";this.statusCounter="0 / 0";this.textBefore=null;this.textAfter=null;this.maxValue=100;this.value=0;this.style=null;this.statusType=BX.UI.ProgressRound.Status.NONE;this.color=BX.UI.ProgressRound.Color.PRIMARY;this.size=200;this.lineSize=false;this.fisrtHalfRound=BX.create("div",{props:{className:"slice1"}});this.secondHalfRound=BX.create("div",{props:{className:"slice2"}});this.setLineSize(t.lineSize);this.setSize(t.size);this.setValue(t.value);this.setMaxValue(t.maxValue);this.setStatusType(t.statusType);this.setColor(t.color);this.setFill(t.fill);this.setColumn(t.column);this.setTextBefore(t.textBefore);this.setTextAfter(t.textAfter)};BX.UI.ProgressRound.Status={COUNTER:"COUNTER",PERCENT:"PERCENT",NONE:"NONE"};BX.UI.ProgressRound.Color={DANGER:"ui-progressround-danger",SUCCESS:"ui-progressround-success",PRIMARY:"ui-progressround-primary",WARNING:"ui-progressround-warning"};BX.UI.ProgressRound.prototype={getId:function(){return this.id},getValue:function(){return this.value},setValue:function(t){if(BX.type.isNumber(t)){this.value=t}},getMaxValue:function(){return this.maxValue},setMaxValue:function(t){if(BX.type.isNumber(t)){this.maxValue=t}},setColor:function(t){if(BX.type.isNotEmptyString(t)){BX.removeClass(this.getContainer(),this.color);this.color=t;BX.addClass(this.getContainer(),this.color)}},getSize:function(){return this.size},setSize:function(t){if(BX.type.isNumber(t)){this.size=t}},getLineSize:function(){if(this.lineSize!==false){return this.lineSize}},setLineSize:function(t){if(BX.type.isNumber(t)){this.lineSize=t}},getBagel:function(){if(!this.bagel&&this.lineSize!==false){this.bagel=BX.create("div",{props:{className:"ui-progressround-bagel"},style:{borderWidth:this.getLineSize()+"px"}})}return this.bagel},setFill:function(t){if(t===true){BX.addClass(this.getContainer(),"ui-progressround-bg")}else{BX.removeClass(this.getContainer(),"ui-progressround-bg")}},setColumn:function(t){if(t===true){BX.addClass(this.getContainer(),"ui-progressround-column")}else{BX.removeClass(this.getContainer(),"ui-progressround-column")}},getTextBefore:function(){if(this.textBefore===null){this.textBefore=BX.create("div",{props:{className:"ui-progressround-text-before"},html:this.options.textBefore})}return this.textBefore},setTextBefore:function(t){BX.adjust(this.textBefore,{html:t})},getTextAfter:function(){if(this.textAfter===null){this.textAfter=BX.create("div",{props:{className:"ui-progressround-text-after"},html:this.options.textAfter})}return this.textAfter},setTextAfter:function(t){BX.adjust(this.textAfter,{html:t})},getStyleNode:function(){this.style=BX.create("style",{attrs:{type:"text/css"}})},setStyle:function(){if(!this.rotateFirstHalf||!this.rotateSecondHalf){this.calculateRotate()}var t=document.head;var e="#"+this.getId()+" { --ui-current-round-size: "+this.getSize()+"px;}"+"#"+this.getId()+" .slice1 { transform: rotate("+this.getRotateFirstHalf()+"deg); animation-name: animate_"+this.getId()+"_slice1; } "+"#"+this.getId()+" .slice2 { transform: rotate("+this.getRotateSecondHalf()+"deg); animation-name: animate_"+this.getId()+"_slice2; } "+"@keyframes animate_"+this.getId()+"_slice1 { from { transform: rotate(0) } to { transform: rotate("+this.getRotateFirstHalf()+"deg) } }"+"@keyframes animate_"+this.getId()+"_slice2 { from { transform: rotate(0) } to { transform: rotate("+this.getRotateSecondHalf()+"deg) } }";if(!this.style){this.getStyleNode()}BX.cleanNode(this.style);e=document.createTextNode(e);this.style.appendChild(e);t.appendChild(this.style)},calculateRotate:function(){this.rotateFirstHalf=180;this.rotateSecondHalf=0;var t=this.getValue()/this.getMaxValue()*360;if(t<=180){this.rotateFirstHalf=t}else{this.rotateSecondHalf=t-180}},getRotateFirstHalf:function(){if(this.rotateFirstHalf){return this.rotateFirstHalf}this.calculateRotate();return this.rotateFirstHalf},getRotateSecondHalf:function(){if(this.rotateSecondHalf){return this.rotateSecondHalf}this.calculateRotate();return this.rotateSecondHalf},getStatus:function(){if(this.status===null){if(this.getStatusType()===BX.UI.ProgressRound.Status.COUNTER){this.status=BX.create("div",{props:{className:"ui-progressround-status"},text:this.getStatusCounter()})}else if(this.getStatusType()===BX.UI.ProgressRound.Status.PERCENT){this.status=BX.create("div",{props:{className:"ui-progressround-status-percent"},text:this.getStatusPercent()})}}return this.status},getStatusPercent:function(){this.statusPercent=Math.round(this.getValue()/(this.getMaxValue()/100));if(this.statusPercent>100){this.statusPercent=100}return this.statusPercent+"%"},getStatusCounter:function(){this.statusCounter=Math.round(this.getValue())+" / "+Math.round(this.getMaxValue());if(Math.round(this.getValue())>Math.round(this.getMaxValue())){this.statusCounter=Math.round(this.getMaxValue())+" / "+Math.round(this.getMaxValue())}return this.statusCounter},setStatus:function(){if(this.getStatusType()===BX.UI.ProgressRound.Status.COUNTER){BX.adjust(this.status,{text:this.getStatusCounter()})}else{BX.adjust(this.status,{text:this.getStatusPercent()})}},getStatusType:function(){return this.statusType},setStatusType:function(t){if(BX.type.isNotEmptyString(t)){this.statusType=t}},getBar:function(){if(this.bar===null){this.bar=BX.create("div",{props:{className:"ui-progressround-track pie"},children:[BX.create("div",{props:{className:"ui-progressround-bar clip1"},children:[this.fisrtHalfRound]}),BX.create("div",{props:{className:"ui-progressround-bar clip2"},children:[this.secondHalfRound]}),this.getBagel()]})}return this.bar},update:function(t){this.setValue(t);this.setStatus();if(this.bar===null){this.getBar()}BX.adjust(this.bar,{style:{width:this.getStatusPercent()}})},getContainer:function(){if(this.container===null){this.container=BX.create("div",{props:{className:"ui-progressround"},children:[this.getTextAfter(),this.getTextBefore(),this.getStatus(),this.getBar()]});this.setStyle()}return this.container}}})();
//# sourceMappingURL=ui.progressround.map.js