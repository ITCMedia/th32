{"version":3,"sources":["registry.bundle.js"],"names":["this","BX","Messenger","exports","im_tools_timer","im_const","im_utils","ApplicationController","babelHelpers","classCallCheck","store","restClient","templateEngine","timer","Timer","_prepareFilesBeforeSave","params","defaultMessageLimit","requestMessageLimit","getDefaultMessageLimit","messageLastReadId","messageReadQueue","createClass","key","value","setTemplateEngine","template","setRestClient","client","setStore","getSiteId","state","application","common","siteId","getUserId","userId","getLanguageId","languageId","getCurrentUser","getters","getChatId","dialog","chatId","getDialogId","dialogId","getDialogData","arguments","length","undefined","dialogues","collection","getDialogIdByChatId","getDiskFolderId","diskFolderId","getMessageLimit","messageLimit","getRequestMessageLimit","emit","eventName","$emit","listen","callback","$on","getReadedList","readedList","isUnreadMessagesLoaded","unreadLastId","messages","lastElementId","index","lastElement","id","prepareFilesBeforeSave","files","setPrepareFilesBeforeSaveFunction","func","bind","startOpponentWriting","_this","userName","dispatch","action","start","stopOpponentWriting","stop","startWriting","_this2","Utils","isEmptyDialogId","has","callMethod","RestMethod","imDialogWriting","DIALOG_ID","catch","stopWriting","setTextareaMessage","_params$message","message","_params$dialogId","fields","textareaMessage","setSendingMessageFlag","messageId","reactMessage","imMessageLike","MESSAGE_ID","ACTION","readMessage","_this3","force","skipAjax","push","parseInt","readMessageExecute","Promise","resolve","reject","then","result","_this4","filter","elementId","lastId","readId","count","counter","commit","imDialogRead","unreadMessage","_this5","unreadId","imDialogUnread","shareMessage","type","imMessageShare","TYPE","Controller","Const"],"mappings":"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","file":"registry.bundle.map.js"}